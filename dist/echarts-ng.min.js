!function(t){"use strict";t.module("echarts-ng",[])}(angular),function(t){"use strict";function e(){this.storage={}}function r(){var r=this;r.GLOBAL_OPTION={title:{left:"center",top:"top",padding:[20,10,10,10]},backgroundColor:"rgba(255, 255, 255, .5)",legend:{left:"center",top:"top",padding:[20,10,10,10]},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}}},r.setGlobalOption=function(e){t.extend(r.GLOBAL_OPTION,e)},r.$get=["$q","$timeout",function(n,o){function i(){return r.GLOBAL_OPTION}function s(){return Math.random().toString(36).substr(2,9)}function c(t,e){f.storage.set(t,e)}function a(t){var e=n.defer();return o(function(){f.storage.has(t)?e.resolve(f.storage.get(t)):(console.error("Echarts Identity Not Registered, Please Verify The Process"),e.reject({errorDesc:"Echarts Identity Not Registered, Please Verify The Process"}))},0),e.promise}function g(t){f.storage.has(t)&&f.storage["delete"](t)}function h(e,r){var n=f.storage.get(e);return t.isUndefined(n)?void console.warn("The instance not registered. Probably the exception belongs to the directive wrap"):void(t.isObject(r)&&t.isArray(r.series)&&r.series.length?(n.hideLoading(),n.setOption(r)):(n.clear(),n.showLoading()))}function u(e){var r=e.getOption(),n=t.copy(r.color),o=l(n,f.storage.size);e.setOption({color:o})}function l(t,e){var r,n,o=t.length;return r=o>e?e:e%o,n=t.splice(0,r),t.concat(n)}var f={};return f.storage=t.isDefined(Map)?new Map:new e,f.generateInstanceIdentity=s,f.getEchartsGlobalOption=i,f.registerEchartsInstance=c,f.queryEchartsInstance=a,f.removeEchartsInstance=g,f.updateEchartsInstance=h,f.driftPaletteProperty=l,f.driftEchartsPalette=u,f}]}t.module("echarts-ng").provider("$echarts",r),e.prototype.has=function(t){return this.storage.hasOwnProperty(t)},e.prototype.get=function(t){return this.storage[t]},e.prototype.set=function(t,e){this.storage[t]=e},e.prototype["delete"]=function(t){delete this.storage[t]},Object.defineProperty(e.prototype,"size",{enumerable:!0,configurable:!1,get:function(){return Object.keys(this.storage).length}})}(angular),function(t,e){"use strict";function r(r){return{priority:5,restrict:"A",scope:{echarts:"=",config:"=",theme:"@"},bindToController:!0,controller:function(n,o){var i=r.getEchartsGlobalOption(),s=n.chart,c=s.echarts,a=o[0];if(!c)throw new Error("Echarts Instance Identity Required");var g=s.theme?e.init(a,s.theme):e.init(a);g.setOption(i),r.driftEchartsPalette(g),r.registerEchartsInstance(c,g),t.isObject(s.config)&&t.isArray(s.config.series)?g.setOption(s.config):g.showLoading(),n.$watchCollection("chart.config.title",function(){r.updateEchartsInstance(c,s.config)}),n.$watchCollection("chart.config.series",function(){r.updateEchartsInstance(c,s.config)}),n.$on("$destroy",function(){g.clear(),g.dispose(),r.removeEchartsInstance(c)})},controllerAs:"chart"}}t.module("echarts-ng").directive("echarts",r),r.$inject=["$echarts"]}(angular,echarts);