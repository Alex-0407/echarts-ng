!function(e){"use strict";function t(){this.storage={}}e.EchartsDecorativeMap=Map||t,t.prototype.has=function(e){return this.storage.hasOwnProperty(e)},t.prototype.get=function(e){return this.storage[e]},t.prototype.set=function(e,t){this.storage[e]=t},t.prototype["delete"]=function(e){delete this.storage[e]},Object.defineProperty(t.prototype,"size",{enumerable:!0,configurable:!1,get:function(){return Object.keys(this.storage).length}})}(window),function(e){"use strict";e.module("echarts-ng",[])}(angular),function(e){"use strict";function t(){var t=this;t.$get=[function(){function t(t){if(!e.isArray(t.series)||1!==t.series.length)return!1;var r=t.series[0];return e.isArray(r.data)&&e.equals(r.type,"waterfall")}function r(e,t){if(o.shouldAdaptWaterfall(t)){var r={tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:"{a1}: <br/> {b1}: {c1}"}};e.setOption(r)}}function a(e){return e.reduce(function(e,t){return e+t},0)}function n(e){var t;return t=e.reduce(function(e,t,r,n){if(r>0&&r<n.length-1){var i=r,o=n.slice(0,i),s=a(o);e.push(s)}return e},[]),t.unshift(0)&&t.push(0),t}function i(t){if(!o.shouldAdaptWaterfall(t))return t;t=e.copy(t);var r=t.series[0],a={stack:"waterfall",type:"bar",label:{normal:{show:!0,position:"inside"}}};e.extend(r,a);var n={name:"helper",type:"bar",stack:"waterfall",itemStyle:{normal:{barBorderColor:"rgba(0,0,0,1)",color:"rgba(0,0,0,0)"},emphasis:{barBorderColor:"rgba(0,0,0,0)",color:"rgba(0,0,0,0)"}},data:o.calculateWaterfallFlow(r.data)};return t.series=[n,r],t}var o={};return o.shouldAdaptWaterfall=t,o.adaptWaterfallTooltip=r,o.calculateWaterfallSummary=a,o.calculateWaterfallFlow=n,o.adaptWaterfallSeries=i,o}]}e.module("echarts-ng").provider("$waterfall",t)}(angular),function(e){"use strict";function t(){var t=this;t.initialCalculateHeight="",t.$get=[function(){function r(e){var t=45,r=e.length,a=e[0].data.length*r;switch(!0){case 5>a:t=60;break;case a>=5&&10>a:t=45;break;case a>=10:t=35}return t*a+"px"}function a(t,r){if(!e.isString(r))return void console.warn("The Pass Pixel Ratio Not Assign, Please Make Sure Height Already Specified");var a,n,i=r.split(":").reverse().map(Number);return 2!==i.length?void console.warn("The Pass Pixel Ratio Invalid, Please Verify Param"):(a=t.clientWidth,n=a*i[0]/i[1])}function n(e,r){t.initialCalculateHeight=r+"px",e.style.height=r+"px"}function i(e){e.style.removeProperty?e.style.removeProperty("height"):e.style.removeAttribute("height")}function o(e){e.resize()}function s(r,a,n){e.isArray(a)&&e.isObject(a[0])&&e.isArray(a[0].data)&&(r.style.height=n?c.calculateDynamicDimension(a):t.initialCalculateHeight)}var c={};return c.calculateDynamicDimension=r,c.calculateEchartsDimension=a,c.adaptEchartsDimension=n,c.removeEchartsDimension=i,c.synchronizeEchartsDimension=o,c.adjustEchartsDimension=s,c}]}e.module("echarts-ng").provider("$dimension",t)}(angular),function(e){"use strict";function t(){var t=this;t.GLOBAL_OPTION={theme:"macarons",driftPalette:!0,title:{left:"center",top:"top",padding:[20,10,10,10]},grid:{top:"15%",left:"5%",right:"5%",bottom:"5%",containLabel:!0},backgroundColor:"rgba(255, 255, 255, .5)",legend:{left:"center",top:"top",padding:[20,10,10,10]},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}}},t.setGlobalOption=function(r){e.extend(t.GLOBAL_OPTION,r)},t.$get=["$q","$timeout","$waterfall","$dimension",function(r,a,n,i){function o(){return t.GLOBAL_OPTION}function s(){return Math.random().toString(36).substr(2,9)}function c(e,t){g.storage.set(e,t)}function l(e){var t=r.defer();return a(function(){g.storage.has(e)?t.resolve(g.storage.get(e)):(console.error("Echarts Identity Not Registered, Please Verify The Process"),t.reject({errorDesc:"Echarts Identity Not Registered, Please Verify The Process"}))},0),t.promise}function u(e){g.storage.has(e)&&g.storage["delete"](e)}function h(t,r){var a,o=g.storage.get(t);return e.isUndefined(o)?void console.warn("The instance not registered. Probably the exception belongs to the directive wrap"):(n.adaptWaterfallTooltip(o,r),i.adjustEchartsDimension(o.getDom(),r.series,r.dynamic),a=n.adaptWaterfallSeries(r),void(e.isObject(a)&&e.isArray(a.series)&&a.series.length?(o.hideLoading(),o.resize(),o.setOption(a)):(o.clear(),o.showLoading())))}function f(t,r){if(r){var n=t.getOption(),i=e.copy(n.color),o=d(i,g.storage.size);a(function(){t.setOption({color:o})},0)}}function d(t,r){t=e.copy(t);var a,n,i=t.length;return a=i>r?r:r%i,n=t.splice(0,a),t.concat(n)}var g={};return g.storage=new EchartsDecorativeMap,g.generateInstanceIdentity=s,g.getEchartsGlobalOption=o,g.registerEchartsInstance=c,g.queryEchartsInstance=l,g.removeEchartsInstance=u,g.updateEchartsInstance=h,g.driftPaletteProperty=d,g.driftEchartsPalette=f,g}]}e.module("echarts-ng").provider("$echarts",t)}(angular),function(e,t){"use strict";function r(r,a,n){return{priority:5,restrict:"A",scope:{echarts:"=",echartsDimension:"=",config:"="},bindToController:!0,controller:["$scope","$element",function(i,o){var s=this,c=r.getEchartsGlobalOption(),l=s.echarts,u=(s.config,c.theme),h=c.driftPalette,f=o[0];if(!l)throw new Error("Echarts Instance Identity Required");var d=n.calculateEchartsDimension(f,s.echartsDimension);n.adaptEchartsDimension(f,d);var g=t.init(f,u),p=a.adaptWaterfallSeries(s.config);g.setOption(c),r.driftEchartsPalette(g,h),r.registerEchartsInstance(l,g),a.adaptWaterfallTooltip(g,s.config),e.isObject(p)&&e.isArray(p.series)?g.setOption(p):g.showLoading(),i.$watch("chart.echartsDimension",function(t,r){e.equals(t,r)||(d=n.calculateEchartsDimension(f,s.echartsDimension),n.adaptEchartsDimension(f,d),n.synchronizeEchartsDimension(g))}),i.$watchCollection("chart.config.title",function(t,a){e.equals(t,a)||r.updateEchartsInstance(l,s.config)}),i.$watchCollection("chart.config.series",function(t,a){e.equals(t,a)||r.updateEchartsInstance(l,s.config)}),i.$on("$destroy",function(){g.clear(),g.dispose(),r.removeEchartsInstance(l),n.removeEchartsDimension(f)})}],controllerAs:"chart"}}e.module("echarts-ng").directive("echarts",r),r.$inject=["$echarts","$waterfall","$dimension"]}(angular,echarts);